import{d,ag as _,p as k,c as n,o as l,ah as u,j as e,k as g,a as c,t as y,_ as E,ai as r,G as p}from"./chunks/framework.D0tTk8Gi.js";const h={mounted(s,i){s.style.cursor="pointer";const a=i.value;s.__vCopy=async()=>{try{await navigator.clipboard.writeText(a),s.style.transition="all 0.3s",s.style.boxShadow="0 0 10px rgba(0, 255, 0, 0.5)",s.style.border="2px solid #4CAF50",setTimeout(()=>{s.style.boxShadow="none",s.style.border=""},1e3)}catch(t){console.error("复制失败:",t),s.style.transition="all 0.3s",s.style.boxShadow="0 0 10px rgba(255, 0, 0, 0.5)",s.style.border="2px solid #FF5252",setTimeout(()=>{s.style.boxShadow="none",s.style.border=""},1e3)}},s.addEventListener("click",s.__vCopy)},updated(s,i){s.removeEventListener("click",s.__vCopy),s.__vCopy=async()=>{try{await navigator.clipboard.writeText(i.value),s.style.transition="all 0.3s",s.style.boxShadow="0 0 10px rgba(0, 255, 0, 0.5)",s.style.border="2px solid #4CAF50",setTimeout(()=>{s.style.boxShadow="none",s.style.border=""},1e3)}catch(a){console.error("复制失败:",a),s.style.transition="all 0.3s",s.style.boxShadow="0 0 10px rgba(255, 0, 0, 0.5)",s.style.border="2px solid #FF5252",setTimeout(()=>{s.style.boxShadow="none",s.style.border=""},1e3)}},s.addEventListener("click",s.__vCopy)},unmounted(s){s.removeEventListener("click",s.__vCopy)}},v={class:"demo-container"},b={class:"copy-text",title:"点击复制"},m=d({__name:"CopyDemo",setup(s){const i=_();i&&i.appContext.app.directive("copy",h);const a=k("点击复制这段文本");return(t,o)=>(l(),n("div",v,[u((l(),n("div",b,[c(y(a.value),1)])),[[g(h),a.value]]),o[0]||(o[0]=e("p",{class:"demo-tip"},"点击上方文本即可复制内容",-1))]))}}),x=E(m,[["__scopeId","data-v-d7c25b00"]]),C={class:"demo-container"},F={class:"copy-text",title:"无法复制",style:{"user-select":"none"}},f=d({__name:"CopyDemoFail",setup(s){const i=k("这是一段无法复制的文本");return(a,t)=>(l(),n("div",C,[e("div",F,y(i.value),1),t[0]||(t[0]=e("p",{class:"demo-tip"},"这是一个禁用了文本选择功能的示例，无法进行复制操作",-1))]))}}),q=E(f,[["__scopeId","data-v-11ac1572"]]),D=JSON.parse('{"title":"v-copy 指令","description":"","frontmatter":{},"headers":[],"relativePath":"directives/copy.md","filePath":"directives/copy.md"}'),A={name:"directives/copy.md"},S=Object.assign(A,{setup(s){return(i,a)=>(l(),n("div",null,[a[0]||(a[0]=r(`<h1 id="v-copy-指令" tabindex="-1">v-copy 指令 <a class="header-anchor" href="#v-copy-指令" aria-label="Permalink to &quot;v-copy 指令&quot;">​</a></h1><h2 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h2><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">text</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ text }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;点击复制这段文本&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="在线示例" tabindex="-1">在线示例 <a class="header-anchor" href="#在线示例" aria-label="Permalink to &quot;在线示例&quot;">​</a></h2><h3 id="复制成功示例" tabindex="-1">复制成功示例 <a class="header-anchor" href="#复制成功示例" aria-label="Permalink to &quot;复制成功示例&quot;">​</a></h3>`,5)),p(x),a[1]||(a[1]=e("h3",{id:"复制失败示例",tabindex:"-1"},[c("复制失败示例 "),e("a",{class:"header-anchor",href:"#复制失败示例","aria-label":'Permalink to "复制失败示例"'},"​")],-1)),p(q),a[2]||(a[2]=r('<h2 id="功能说明" tabindex="-1">功能说明 <a class="header-anchor" href="#功能说明" aria-label="Permalink to &quot;功能说明&quot;">​</a></h2><p><code>v-copy</code> 指令用于实现点击复制功能。当用户点击绑定了该指令的元素时，会自动将绑定的文本内容复制到剪贴板。</p><h3 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-label="Permalink to &quot;特性&quot;">​</a></h3><ul><li>支持动态文本内容</li><li>复制成功时组件会动态显示绿色边框与阴影</li><li>复制失败时组件会动态显示红色边框与阴影</li><li>自动添加鼠标手型样式</li></ul><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ul><li>需要浏览器支持 Clipboard API</li><li>复制失败时会在控制台输出错误信息</li></ul>',6))]))}});export{D as __pageData,S as default};
