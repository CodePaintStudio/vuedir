import{d as h,ag as u,p as r,c as o,o as n,ah as v,j as i,k as b,a as _,t as y,_ as k,ai as d,G as p}from"./chunks/framework.D0tTk8Gi.js";const c={mounted(t,s){t.style.cursor="pointer";const a=s.value;t.__vCopy=async()=>{try{await navigator.clipboard.writeText(a),t.style.transition="all 0.3s",t.style.boxShadow="0 0 10px rgba(0, 255, 0, 0.5)",t.style.border="2px solid #4CAF50",setTimeout(()=>{t.style.boxShadow="none",t.style.border=""},1e3)}catch(e){console.error("复制失败:",e),t.style.transition="all 0.3s",t.style.boxShadow="0 0 10px rgba(255, 0, 0, 0.5)",t.style.border="2px solid #FF5252",setTimeout(()=>{t.style.boxShadow="none",t.style.border=""},1e3)}},t.addEventListener("click",t.__vCopy)},updated(t,s){t.removeEventListener("click",t.__vCopy),t.__vCopy=async()=>{try{await navigator.clipboard.writeText(s.value),t.style.transition="all 0.3s",t.style.boxShadow="0 0 10px rgba(0, 255, 0, 0.5)",t.style.border="2px solid #4CAF50",setTimeout(()=>{t.style.boxShadow="none",t.style.border=""},1e3)}catch(a){console.error("复制失败:",a),t.style.transition="all 0.3s",t.style.boxShadow="0 0 10px rgba(255, 0, 0, 0.5)",t.style.border="2px solid #FF5252",setTimeout(()=>{t.style.boxShadow="none",t.style.border=""},1e3)}},t.addEventListener("click",t.__vCopy)},unmounted(t){t.removeEventListener("click",t.__vCopy)}},m={class:"demo-container"},x={class:"copy-text",title:"点击复制"},E=h({__name:"CopyDemo",setup(t){const s=u();s&&s.appContext.app.directive("copy",c);const a=r("点击复制这段文本");return(e,l)=>(n(),o("div",m,[v((n(),o("div",x,[_(y(a.value),1)])),[[b(c),a.value]]),l[0]||(l[0]=i("p",{class:"demo-tip"},"点击上方文本即可复制内容",-1))]))}}),g=k(E,[["__scopeId","data-v-d7c25b00"]]),C={class:"demo-container"},f={class:"copy-text",title:"无法复制",style:{"user-select":"none"}},T=h({__name:"CopyDemoFail",setup(t){const s=r("这是一段无法复制的文本");return(a,e)=>(n(),o("div",C,[i("div",f,y(s.value),1),e[0]||(e[0]=i("p",{class:"demo-tip"},"这是一个禁用了文本选择功能的示例，无法进行复制操作",-1))]))}}),S=k(T,[["__scopeId","data-v-11ac1572"]]),w=JSON.parse('{"title":"v-copy 指令","description":"","frontmatter":{},"headers":[],"relativePath":"directives/copy.md","filePath":"directives/copy.md","lastUpdated":1739673727000}'),A={name:"directives/copy.md"},D=Object.assign(A,{setup(t){return r("点击复制这段文本"),(s,a)=>(n(),o("div",null,[a[0]||(a[0]=d(`<h1 id="v-copy-指令" tabindex="-1">v-copy 指令 <a class="header-anchor" href="#v-copy-指令" aria-label="Permalink to &quot;v-copy 指令&quot;">​</a></h1><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ text }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="自定义复制成功-失败样式" tabindex="-1">自定义复制成功/失败样式 <a class="header-anchor" href="#自定义复制成功-失败样式" aria-label="Permalink to &quot;自定义复制成功/失败样式&quot;">​</a></h3><h4 id="成功示例" tabindex="-1">成功示例 <a class="header-anchor" href="#成功示例" aria-label="Permalink to &quot;成功示例&quot;">​</a></h4>`,5)),p(g),a[1]||(a[1]=i("h4",{id:"失败示例",tabindex:"-1"},[_("失败示例 "),i("a",{class:"header-anchor",href:"#失败示例","aria-label":'Permalink to "失败示例"'},"​")],-1)),p(S),a[2]||(a[2]=d('<h2 id="功能说明" tabindex="-1">功能说明 <a class="header-anchor" href="#功能说明" aria-label="Permalink to &quot;功能说明&quot;">​</a></h2><ul><li>支持动态文本内容</li><li>复制成功时组件会动态显示绿色边框与阴影</li><li>复制失败时组件会动态显示红色边框与阴影</li><li>自动添加鼠标手型样式</li></ul><h3 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h3><ul><li>需要浏览器支持 Clipboard API</li><li>复制失败时会在控制台输出错误信息</li></ul>',4))]))}});export{w as __pageData,D as default};
